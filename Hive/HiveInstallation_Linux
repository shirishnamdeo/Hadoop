
Download Hive (from Apache Hive)
I have choosed hive-2.3.4 (you can choose the latest one from there, hive 3 is also available)



Hive also requires CLASSPATH variable to be updated (in order to point to where hive jars lives).

export CLASSPATH=$CLASSPATH:$HADOOP_HOME/lib/*  [Not required by Hive by I guess needed for Hadoop, althought I have seen HAdoop works without this also]

export CLASSPATH=$CLASSPATH:$HIVE_HOME/lib/*





Hive Configuration:

hive-install/conf 

Copy hive-default.xml.template  ot hive-site.xml

1. Check for ConnectionURL property.
	This property tell us what Database we want to use as a metastore.
	We will use buint in Derby database, and run it as an embedded metastore. 




2. hive.metastore.warehouse.dir
[This is the specific place on the HDFS where hive stores all its data.]
Which by default points to /user/hive/warehouse


3. Replace all instances of ${system:java.io.tmpdir} with /tmp/hive_io  [4 replacements]
This is the place where hive stores its temperorary files.


4. Replace all instances of ${system:user.name} with the user name I have on my machine [3 replacement]


Ensure all hadoop processes are Running. [3 hdfs processes and 2 yarn processes]


Make /tmp dir on hdfs for hive to use.


hdfs dfs -mkdir /tmp
hdfs dfs -mkdir /user
hdfs dfs -mkdir /user/hive
hdfs dfs -mkdir /user/hive/warehosue


[Give group write permission to ]
hdfs dfs -chmod g+w /tmp
hdfs dfs -chmod g+w /user/hive/warehosue

Launch hive $ hive

hive> show databases;
FAILED: SemanticException org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.RuntimeException: Unable to instantiate org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient

Either launching hive may give an error, and if not any db command will give an error thatt Metastore database for hive is still not initialized.


We need to instantiate metastore
schematool -initSchema -dbType derby  [Run this command in hive-install directory]

After this metastore_db will be created in hive-install folder.

Now show databases; will show a default database.


Ports Information:-

HMaster: 60000
HMaster Web UI: http://localhost:16010 HTTP (after version 0.98, port has changed from 60010 to 16010)
Region Server: 60020
Region Server: 60030 HTTP

